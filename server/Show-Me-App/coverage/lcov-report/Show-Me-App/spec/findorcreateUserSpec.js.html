<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for Show-Me-App\spec\findorcreateUserSpec.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">Show-Me-App/spec/</a> findorcreateUserSpec.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">22.58% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>7/31</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/0</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">25% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>2/8</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">22.58% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>7/31</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</td><td class="line-coverage quiet"><span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">var request = require("request");
var base_url = "http://54.201.123.246:8081/users/user";
&nbsp;
describe(" checks the user management functionality of the application", function() {
  describe("POST /", function() {    
       	   
	    //test to check if the  API is able to fetch the user details of an existing user or not using facebook provider.
        it("fetch the user details of an existing user using facebook provider", <span class="fstat-no" title="function not covered" >function(done) { </span>
<span class="cstat-no" title="statement not covered" >           request.post(base_url,{json:true,body:{userId:"facebook|1719071618152739", first_name:"Sachin",last_name:"Magar",email:"sac.magar@gmail.com"}},<span class="fstat-no" title="function not covered" >function(request, response,body){ </span></span>
<span class="cstat-no" title="statement not covered" >               expect(response.statusCode).toBe(200);</span>
<span class="cstat-no" title="statement not covered" >			   expect(body.found).toBe(true);</span>
<span class="cstat-no" title="statement not covered" >			   expect(body.user.first_name).toBe("Sachin");</span>
<span class="cstat-no" title="statement not covered" >			   expect(body.user.last_name).toBe("Magar");</span>
<span class="cstat-no" title="statement not covered" >			   expect(body.user.email).toBe("sac.magar@gmail.com");</span>
<span class="cstat-no" title="statement not covered" >			   expect(body.user.userId).toBe("facebook|1719071618152739");</span>
<span class="cstat-no" title="statement not covered" >               done();</span>
            });
       });
&nbsp;
		//test to check if the  API is able to fetch the user details of an existing user or not using linkedIn provider.
        it("fetch the user details of an existing user using linkedIn provider", <span class="fstat-no" title="function not covered" >function(done) { </span>
<span class="cstat-no" title="statement not covered" >           request.post(base_url,{json:true,body:{userId:"linkedin|M3eM6yF1Kr", first_name:"Pranjal",last_name:"Karankar",email:"pranjal_karankar@hotmail.com"}},<span class="fstat-no" title="function not covered" >function(request, response,body){ </span></span>
<span class="cstat-no" title="statement not covered" >               expect(response.statusCode).toBe(200);</span>
<span class="cstat-no" title="statement not covered" >			   expect(body.found).toBe(true);</span>
<span class="cstat-no" title="statement not covered" >			   expect(body.user.first_name).toBe("Pranjal");</span>
<span class="cstat-no" title="statement not covered" >			   expect(body.user.last_name).toBe("Karankar");</span>
<span class="cstat-no" title="statement not covered" >			   expect(body.user.email).toBe("pranjal_karankar@hotmail.com");</span>
<span class="cstat-no" title="statement not covered" >			   expect(body.user.userId).toBe("linkedin|M3eM6yF1Kr");</span>
<span class="cstat-no" title="statement not covered" >               done();</span>
            });
       });	
&nbsp;
		//test to check if the  API is able to create a new user if the user doesn't exist in the DB and return its details
        it("create a new user and return back its details", <span class="fstat-no" title="function not covered" >function(done) { </span>
<span class="cstat-no" title="statement not covered" >           request.post(base_url,{json:true,body:{userId:"facebook|1870629992947416", first_name:"Abhishek",last_name:"Dutta",email:"adutta14@asu.edu"}},<span class="fstat-no" title="function not covered" >function(request, response,body){ </span></span>
<span class="cstat-no" title="statement not covered" >               expect(response.statusCode).toBe(200);</span>
<span class="cstat-no" title="statement not covered" >			   expect(body.found).toBe(true);</span>
<span class="cstat-no" title="statement not covered" >			   expect(body.user.first_name).toBe("Abhishek");</span>
<span class="cstat-no" title="statement not covered" >			   expect(body.user.last_name).toBe("Dutta");</span>
<span class="cstat-no" title="statement not covered" >			   expect(body.user.email).toBe("adutta14@asu.edu");</span>
<span class="cstat-no" title="statement not covered" >			   expect(body.user.userId).toBe("facebook|1870629992947416");</span>
<span class="cstat-no" title="statement not covered" >               done();</span>
            });
       });	   
	});
});</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue May 01 2018 15:41:33 GMT-0700 (US Mountain Standard Time)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
