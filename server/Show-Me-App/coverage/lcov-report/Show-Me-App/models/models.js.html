<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for Show-Me-App\models\models.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../prettify.css" />
    <link rel="stylesheet" href="../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../index.html">all files</a> / <a href="index.html">Show-Me-App/models/</a> models.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/19</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">100% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/0</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/3</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/19</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113</td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" >var async = require('async');</span>
<span class="cstat-no" title="statement not covered" >var mongoose = require('mongoose');</span>
<span class="cstat-no" title="statement not covered" >mongoose.Promise = global.Promise;</span>
<span class="cstat-no" title="statement not covered" >var config = require('../config.json');</span>
<span class="cstat-no" title="statement not covered" >var UserModel = require('./users.js');</span>
<span class="cstat-no" title="statement not covered" >var PaperModel = require('./papers.js');</span>
<span class="cstat-no" title="statement not covered" >var DomainModel = require('./domains.js');</span>
<span class="cstat-no" title="statement not covered" >var RelationModel = require('./relations.js');</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >var exports = module.exports = {};</span>
<span class="cstat-no" title="statement not covered" >var connectToMongo = <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >	var mongoURL = config.mongoURL;</span>
	
<span class="cstat-no" title="statement not covered" >	mongoose.connect(mongoURL,{</span>
  		useMongoClient: true
	});	
&nbsp;
<span class="cstat-no" title="statement not covered" >	var db = mongoose.connection;</span>
<span class="cstat-no" title="statement not covered" >	db.on('error', console.error.bind(console, 'MongoDB connection error:'));</span>
}
&nbsp;
<span class="cstat-no" title="statement not covered" >var getRandom = <span class="fstat-no" title="function not covered" >function(max){</span></span>
<span class="cstat-no" title="statement not covered" >	return Math.floor(Math.random()*max);</span>
}
&nbsp;
<span class="cstat-no" title="statement not covered" >exports.createModels = <span class="fstat-no" title="function not covered" >function(){</span></span>
<span class="cstat-no" title="statement not covered" >	connectToMongo();</span>
	
		// console.log(data[i][0], data[i][1], data[i][2]);
		// PaperModel.find({'paperId':'1'}).exec(function(err, from){
		// 	if(err) console.log(err);
		// 	if(!err){
		// 	PaperModel.find({'paperId':'3'}).exec(function(err, to){
		// 		if(!err){
		// 		console.log(from[0].title);
		// 		console.log(to[0].title);
		// 		var some = new RelationModel({relationId: "2", relationFrom: from[0], relationTo:to[0], upvotes:[], downvotes:[], comments:[]});
		// 		some.save(function(err){
		// 			if(err) console.log('Err', err);
		// 			else console.log('saved successfully');	
		// 		})
		// 	}
		// 	});
		// }
		// });
	
	// var papers = [];
	// PaperModel.find().select('_id').exec(function(err, domains){
	// 	console.log(domains);
	// 	object = [];
	// 	for(var i=0; i&lt;domains.length; i++){
	// 		object.push(domains[i]._id);
	// 	}
	// 	domainsDetail = {domainName: 'Domain 1', papers:object, id: '1'};
	// 	var domain = new DomainModel(domainsDetail);
	// 	domain.save(function(err){
	// 		if(err) console.log(err);
	// 		else console.log('saved');
	// 	});
	// });
	
	// for(var i=0; i&lt;50; i++){
	// 	var paperDetail = {paperId:(i).toString(), title:"Paper "+(i).toString(), authors:["Apoorv Khairnar", "Pushkar Ladhe"], date:Date.now()};
	// 	var paper = new PaperModel(paperDetail);
	// 	paper.save(function(err){
	// 		if(err) console.log(err);
	// 		else console.log('New Paper : ' + i.toString());
	// 	});
	// }
&nbsp;
	// PaperModel.find().select('_id').exec(function(err, domains){
	// 	console.log(domains);
	// 	object = [];
	// 	for(var i=0; i&lt;domains.length; i++){
	// 		object.push(domains[i]._id);
	// 	}
	// 	domainsDetail = {domainName: 'Domain 1', papers:object};
	// 	var domain = new DomainModel(domainsDetail);
	// 	domain.save(function(err){
	// 		if(err) console.log(err);
	// 		else console.log('saved');
	// 	});
	// });
	// DomainModel.find().populate({path:'papers', select:'title'}).exec(function(err, papers){console.log(JSON.stringify(papers))});
	// for(var i = 0; i&lt;1000; i++){
	// 	var to = getRandom(40);
	// 	var from = getRandom(40);
	// 	while(to == from){
	// 		from = getRandom(40);
	// 	}
	// 	to = "Paper " + to.toString();
	// 	from = "Paper " + from.toString();
&nbsp;
	// 	PaperModel.find({title:to}).select('_id').exec(function(err, toPaper){
	// 		PaperModel.find({title:from}).select('_id').exec(function(err, fromPaper){
	// 			var relation = new RelationModel({relationFrom:fromPaper[0]._id, relationTo:toPaper[0]._id, upvotes:[], downvotes:[], comments:[]});
	// 			relation.save(function(err){
	// 				if(err) console.log(err);
	// 				else console.log('Relation saved ');
	// 			});
	// 		});
	// 	});
	// }
	// for(var i=0; i&lt;15; i++){
	// 	var userDetail = {userId:'user'+i.toString(), first_name:'First'+i.toString(), last_name:'Last'+i.toString(), email:'akhairna@asu.edu'};
	// 	var user = new UserModel(userDetail);
	// 	user.save(function(err){
	// 		if(err) console.log(err);
	// 		else console.log('saved successfully '+i.toString());
	// 	})
	// }
<span class="cstat-no" title="statement not covered" >	console.log('Database connection successful!');</span>
}</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue May 01 2018 15:41:33 GMT-0700 (US Mountain Standard Time)
</div>
</div>
<script src="../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../sorter.js"></script>
</body>
</html>
